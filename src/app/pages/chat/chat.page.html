<app-header titulo="Chat"></app-header>

<ion-content fullscreen="true" [scrollY]="false">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <!-- Por ahira se oculta  -->

  <!--   <div class="tabs ion-padding">
 -->
  <!-- <div class="tabs">
    <ion-segment value="chats" (ionChange)="segmentChange($event)">
      <ion-segment-button value="groupchats">
        <ion-label>Grupos</ion-label>
      </ion-segment-button>
 -->
  <!--  <ion-segment-button value="privateschats">
        <ion-label>Contactos</ion-label>
      </ion-segment-button> -->
  <!-- </ion-segment>
  </div> -->

  <!-- <cdk-virtual-scroll-viewport class="ion-content-scroll-host"> -->
  <ng-container *ngIf="chatRooms.length && !isLoading">
    <ion-list>
      <ion-list-header> Grupos </ion-list-header>

      <ion-item *ngFor="let chat of chatRooms; index as i" button (click)="navigateToGroupChat(chat.id, i)">
        <ion-avatar slot="start">
          <img
            src="../../../assets/icons - Chat/{{chat.emergenciesDisasters.typesEmergenciesDisasters.typeEmergencyDisasterIcon}}.svg"
            style="width:50px !important; max-width: none !important;" />
        </ion-avatar>
        <ion-label style="margin-left: 8px;">
          <h2 style="font-size: 14px;">#{{chat.id}}</h2>
          <p>{{chat.emergenciesDisasters.locationsEmergenciesDisasters.locationCityName}}</p>
        </ion-label>
        <!-- <ion-badge *ngIf="chat.quantity" slot="end">{{chat.quantity}}</ion-badge> -->
      </ion-item>
    </ion-list>

    <!-- <ion-list>
      <ion-list-header> Mensajes directos </ion-list-header>

      <ion-item>
        <ion-avatar slot="start">
          <img src="./avatar-poe.png" />
        </ion-avatar>
        <ion-label>
          <h2>Poe</h2>
          <h3>New Ride</h3>
          <p>I just upgraded my X-Wing. Next time...</p>
        </ion-label>
      </ion-item>
    </ion-list> -->
  </ng-container>
  <ng-container *ngIf="!chatRooms.length && !isLoading">
    <div class="d-flex flex-column align-items-center align-content-center m-5">
      <!-- <img src="../../../assets/icons - Chat/no-chat.png" style="height: 300px;" alt=""> -->
      <img src="https://img.freepik.com/premium-vector/contact-is-empty-flat-illustration_418302-56.jpg?w=740"
        style="height: 300px;" alt="">
      <p class="text-center mt-3">Â¡Acepte a una alerta!</p>
    </div>
  </ng-container>
  <!-- <div *ngFor="let chat of chatRooms">
    <div class="div_padding">
      <ion-list>
        <ion-item  button (click)="navigateToGroupChat(chat.id)">
          <ion-avatar slot="start">
            <img
              src="../../../assets/icons - Chat/{{chat.emergenciesDisasters.typesEmergenciesDisasters.typeEmergencyDisasterIcon}}.svg"
              width="40px">
          </ion-avatar>
          <ion-label>
            <h2>#{{chat.id}} - {{chat.emergenciesDisasters.locationsEmergenciesDisasters.locationCityName}}</h2>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
  </div> -->
  <!-- Skeleton text -->

  <ion-list *ngIf="isLoading">
    <ion-item *ngFor="let item of [1,1,1,1,1,1,1,1]">
      <ion-thumbnail slot="start">
        <ion-skeleton-text></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>
  <!-- </cdk-virtual-scroll-viewport> -->
</ion-content>
<!-- <app-menu showTabs></app-menu> -->